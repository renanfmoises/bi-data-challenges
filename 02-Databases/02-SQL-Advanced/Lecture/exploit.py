import sqlite3

conn = sqlite3.connect("data/exploitable_db.sqlite")
c = conn.cursor()


def connect(username, password):
    import ipdb

    ipdb.set_trace()
    query = f"""
             SELECT *
             FROM users
             WHERE users.username = ?
             AND users.password = ?

             """

    c.execute(query, (username, password))
    user = c.fetchone()
    ipdb.set_trace()
    if user is None:
        return "Unauthorized"
    return "Authorized"


# print(connect("john", "wrong_password"))
print(connect("john", "passw0rd"))

# print(connect("john", "'OR 1=1 --"))
